# #419 「クラスベースGuard vs 関数型Guard あなたはどっち派？」台本

ずんだもん「ルートのGuard、`CanActivate`クラスで書く？それとも関数型に切り替えた？」
四国めたん「Angular v15で関数型ガードが追加され、DIの柔軟性が上がりました。」
ずんだもん「クラスガード派の良さは？」
四国めたん「`CanActivate`などのインターフェースを実装するだけでDIが使え、テストもモッククラスを差し替えればOK。長年のスタンダードです。」
ずんだもん「でもファイルが嵩むし、Routeごとの細かな条件を書くとStatefulになりがち…。」
四国めたん「`const canActivateHero: CanActivateFn = () => { ... }`のように関数ベースで書け、`inject()`でサービスを参照できます。Route定義と同じファイルで完結させやすいです。」
ずんだもん「ResolverやGuardを同じ`routes.ts`にまとめられるの気持ちいい！」
四国めたん「共有ガードはクラス、局所的なロジックは関数と使い分けたい。あなたはどっち派？」
