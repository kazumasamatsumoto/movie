# #326 「プラットフォーム非依存の実装」台本

ずんだもん「Directiveをプラットフォーム非依存にするには？」
四国めたん「直接DOM APIに触らず、Renderer2や`inject(PLATFORM_ID)`で分岐します。」
ずんだもん「SSRではどう判定するの？」
四国めたん「`isPlatformBrowser`でブラウザ実行時だけDOM操作を有効にします。」
ずんだもん「Web Workerでも動かせる？」
四国めたん「Renderer2が抽象化するので、多くの場合コード変更なしで動きます。」
ずんだもん「外部ライブラリへの依存は？」
四国めたん「ラッパーサービスを挟み、プラットフォーム別の実装を切り替えましょう。」
