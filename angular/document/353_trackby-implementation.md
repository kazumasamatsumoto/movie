# #353 ã€ŒtrackBy é–¢æ•°ã®å®Ÿè£…ã€

## æ¦‚è¦
trackByé–¢æ•°ã¯`*ngFor`ãŒè¦ç´ ã‚’è­˜åˆ¥ã™ã‚‹ãŸã‚ã®ã‚­ãƒ¼ã‚’è¿”ã™ç´”ç²‹é–¢æ•°ã§ã€ä¸€æ„IDã‚’è¿”ã™å®Ÿè£…ãŒæ¨å¥¨ã•ã‚Œã‚‹ã€‚

## å­¦ç¿’ç›®æ¨™
- trackByé–¢æ•°ã®ç½²åã¨æˆ»ã‚Šå€¤ã®åˆ¶ç´„ã‚’ç†è§£ã™ã‚‹
- å®‰å®šã—ãŸã‚­ãƒ¼ã‚’è¿”ã™å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å­¦ã¶
- ãƒ†ã‚¹ãƒˆã¨ãƒ‡ãƒãƒƒã‚°ã®è¦³ç‚¹ã‚’æŠŠæ¡ã™ã‚‹

## æŠ€è¡“ãƒã‚¤ãƒ³ãƒˆ
- å¼•æ•°: `(index: number, item: T) => string | number`
- å®‰å®šã—ãŸä¸€æ„ã‚­ãƒ¼ã‚’è¿”ã—ã€é…åˆ—æ“ä½œå¾Œã‚‚å†åˆ©ç”¨ã‚’ä¿ƒé€²
- é–¢æ•°ã¯å‰¯ä½œç”¨ãªãç´”ç²‹ã§ã‚ã‚‹ã¹ã

## ğŸ“º ç”»é¢è¡¨ç¤ºç”¨ã‚³ãƒ¼ãƒ‰ï¼ˆå‹•ç”»ç”¨ï¼‰
```typescript
trackById(_index: number, item: { id: number }) {
  return item.id;
}
```

## ğŸ’» è©³ç´°å®Ÿè£…ä¾‹ï¼ˆå­¦ç¿’ç”¨ï¼‰
```typescript
@Component({
  selector: 'app-trackby-impl-demo',
  standalone: true,
  imports: [CommonModule],
  template: `
    <ul>
      <li *ngFor="let user of users; trackBy: trackUser">{{ user.name }}</li>
    </ul>
  `
})
export class TrackByImplDemoComponent {
  protected users = [
    { id: 1, name: 'ã‚ãŸã‚“' },
    { id: 2, name: 'ãšã‚“ã ã‚‚ã‚“' }
  ];

  protected trackUser(_: number, user: { id: number }): number {
    return user.id;
  }
}
```

## ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
- IDãŒãªã„ãƒ‡ãƒ¼ã‚¿ã«ã¯ãƒãƒƒã‚·ãƒ¥ç”Ÿæˆã§ã¯ãªããƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‚’è¦‹ç›´ã™
- trackByé–¢æ•°ã¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ã¨ã—ã¦å®šç¾©ã—ã€ãƒ†ã‚¹ãƒˆã—ã‚„ã™ãã™ã‚‹
- ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã§åŒã˜IDãŒè¿”ã£ã¦ã„ã‚‹ã‹æ¤œè¨¼ã—ã€å› regressions ã‚’é˜²æ­¢ã™ã‚‹

## æ³¨æ„ç‚¹
- `index`ã‚’ãã®ã¾ã¾è¿”ã™ã¨æŒ¿å…¥ã‚„ã‚½ãƒ¼ãƒˆã§DOMå†åˆ©ç”¨ãŒç„¡åŠ¹ã«ãªã‚‹
- UUIDã‚’æ¯å›ç”Ÿæˆã™ã‚‹ã¨å€¤ãŒå¤‰ã‚ã‚Šç¶šã‘ã‚‹ãŸã‚é€†åŠ¹æœ
- trackByé–¢æ•°å†…éƒ¨ã§çŠ¶æ…‹ã‚’å¤‰æ›´ã™ã‚‹ã¨å†æç”»ã®åŸå› ã«ãªã‚‹ã®ã§é¿ã‘ã‚‹

## é–¢é€£æŠ€è¡“
- trackBy
- Pure Functions
- Unit Testing
