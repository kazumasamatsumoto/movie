# #308 "How to Create Directives"

## Overview
Using Angular CLI, you can instantly generate Directive templates and add reusable behavior by simply adjusting the selector and API.

## Learning Objectives
- Understand how to use the `ng g directive` command
- Learn the main structure of generated files
- Master how to register Standalone directives

## Technical Points
- Add `--standalone` option when generating with CLI
- Adjust selector and `@Input` according to purpose
- Can be used immediately by adding to `imports` on the consumer side

## ðŸ“º Display Code (For Video)
```bash
ng g directive shared/highlight --standalone
# create src/app/shared/highlight.directive.ts
# create src/app/shared/highlight.directive.spec.ts
```

## ðŸ’» Detailed Implementation Example (For Learning)
```typescript
// Edit the template generated by CLI
@Directive({
  selector: '[appHighlight]',
  standalone: true
})
export class HighlightDirective implements OnInit {
  @Input() appHighlight = '#ffe066';

  constructor(private readonly renderer: Renderer2, private readonly el: ElementRef<HTMLElement>) {}

  ngOnInit(): void {
    this.renderer.setStyle(this.el.nativeElement, 'backgroundColor', this.appHighlight);
  }
}

@Component({
  selector: 'app-highlight-demo',
  standalone: true,
  imports: [CommonModule, HighlightDirective],
  template: `
    <p appHighlight="#fef08a">Directive created with CLI changes background color.</p>
  `
})
export class HighlightDemoComponent {}
```

## Best Practices
- Check if `standalone: true` is present right after generation to eliminate unnecessary NgModule dependencies
- Test files are also auto-generated, so write expected behavior values early
- Organize directory structure by purpose such as `shared/directives` to improve maintainability

## Cautions
- CLI selector naming uses `app` prefix, so change to match project conventions
- Clean up unnecessary `common` imports after generation
- When adding to non-standalone environments, don't forget module `declarations`/`exports`

## Related Technologies
- Angular CLI
- Standalone APIs
- Schematics
