# #509 「実践例(1)」

四国めたん「網羅性チェックの実践例について学びましょう！」
ずんだもん「実際のプロジェクトでどう使うの？」
四国めたん「状態管理やイベントハンドリングで、すべてのケースを確実に処理できます」
ずんだもん「具体的なコード例を見せて！」
四国めたん「Reducerパターンで全アクションタイプを網羅的に処理する例です」
ずんだもん「なるほど！アクション追加時に型エラーで気づけるんだね！」
四国めたん「リファクタリングやメンテナンス時の安全性が向上しますね」
ずんだもん「大規模プロジェクトで特に役立ちそうだよ！」

---

## 📺 画面表示用コード

```typescript
type Action =
  | { type: 'increment'; payload: number }
  | { type: 'decrement'; payload: number }
  | { type: 'reset' };
```

```typescript
function reducer(state: number, action: Action): number {
  if (action.type === 'increment') return state + action.payload;
  if (action.type === 'decrement') return state - action.payload;
  if (action.type === 'reset') return 0;
  const check: never = action; // 網羅性チェック
  return state;
}
```

```typescript
// アクション追加時
type Action =
  | { type: 'increment'; payload: number }
  | { type: 'multiply'; payload: number }; // 新規追加

// reducerで型エラーが発生し、実装漏れを検出
```
