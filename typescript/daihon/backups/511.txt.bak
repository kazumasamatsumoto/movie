# #511 ã€Œå‹ã‚¬ãƒ¼ãƒ‰ã€

å››å›½ã‚ãŸã‚“ã€Œå‹ã‚¬ãƒ¼ãƒ‰ã¨ç¶²ç¾…æ€§ãƒã‚§ãƒƒã‚¯ã®é–¢ä¿‚ã«ã¤ã„ã¦å­¦ã³ã¾ã—ã‚‡ã†ï¼ã€
ãšã‚“ã ã‚‚ã‚“ã€Œå‹ã‚¬ãƒ¼ãƒ‰ã£ã¦ã©ã†é–¢ä¿‚ã™ã‚‹ã®ï¼Ÿã€
å››å›½ã‚ãŸã‚“ã€Œå‹ã‚¬ãƒ¼ãƒ‰ã§å‹ã‚’çµã‚Šè¾¼ã‚€ã“ã¨ã§ã€æ®‹ã‚Šã®å‹ãŒneverå‹ã«ãªã‚Šç¶²ç¾…æ€§ã‚’æ¤œè¨¼ã§ãã¾ã™ã€
ãšã‚“ã ã‚‚ã‚“ã€Œå…·ä½“çš„ã«ã©ã†æ›¸ãã®ï¼Ÿã€
å››å›½ã‚ãŸã‚“ã€Œtypeofã‚„instanceofã€ã‚«ã‚¹ã‚¿ãƒ å‹ã‚¬ãƒ¼ãƒ‰ã§å‹ã‚’çµã‚Šè¾¼ã¿ã€æœ€å¾Œã«neverå‹ã§ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€
ãšã‚“ã ã‚‚ã‚“ã€Œãªã‚‹ã»ã©ï¼å‹ã‚¬ãƒ¼ãƒ‰ãŒç¶²ç¾…æ€§ãƒã‚§ãƒƒã‚¯ã®åŸºç¤ãªã‚“ã ã­ï¼ã€
å››å›½ã‚ãŸã‚“ã€Œåˆ¶å¾¡ãƒ•ãƒ­ãƒ¼åˆ†æã«ã‚ˆã‚Šã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒè‡ªå‹•ã§å‹ã‚’è¿½è·¡ã—ã¾ã™ã­ã€
ãšã‚“ã ã‚‚ã‚“ã€Œå‹æ¨è«–ã¨ã‚¬ãƒ¼ãƒ‰ã®çµ„ã¿åˆã‚ã›ãŒå¼·åŠ›ã ã‚ˆï¼ã€

---

## ğŸ“º ç”»é¢è¡¨ç¤ºç”¨ã‚³ãƒ¼ãƒ‰

```typescript
type Shape =
  | { kind: 'circle'; radius: number }
  | { kind: 'square'; size: number }
  | { kind: 'rectangle'; width: number; height: number };
```

```typescript
function area(shape: Shape): number {
  if (shape.kind === 'circle') {
    return Math.PI * shape.radius ** 2;
  } else if (shape.kind === 'square') {
    return shape.size ** 2;
  } else if (shape.kind === 'rectangle') {
    return shape.width * shape.height;
  }
  const check: never = shape; // ç¶²ç¾…æ€§ãƒã‚§ãƒƒã‚¯
  return 0;
}
```

```typescript
// ã‚«ã‚¹ã‚¿ãƒ å‹ã‚¬ãƒ¼ãƒ‰
function isCircle(shape: Shape): shape is Extract<Shape, { kind: 'circle' }> {
  return shape.kind === 'circle';
}

function process(shape: Shape) {
  if (isCircle(shape)) return shape.radius;
  // æ®‹ã‚Šã®å‹ã§å‡¦ç†
}
```
