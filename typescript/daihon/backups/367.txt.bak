# #367「間違い(2) - チェック漏れ」

四国めたん「Non-null Assertionでのチェック漏れについて学びましょう！」
ずんだもん「チェック漏れってどういうこと？」
四国めたん「! を使うと型チェックをスキップするため、nullやundefinedのチェック漏れが発生します」
ずんだもん「具体的にどんな問題があるの？」
四国めたん「値が実際にnullの場合でもコンパイルが通るため、実行時エラーに気づきにくいですね」
ずんだもん「テストで見つけるしかないの？」
四国めたん「はい、または実運用で発見されます。型ガードを使えば、コンパイル時に安全性が保証されますね」
ずんだもん「型システムの利点を活かすべきなんだね！」

---

## 📺 画面表示用コード

```typescript
// チェック漏れの例
function processUser(id: number) {
  const user = findUser(id)!;  // nullの可能性を無視
  console.log(user.name);      // 実行時エラーの可能性
}
```

```typescript
// 正しいチェック
function processUser(id: number) {
  const user = findUser(id);
  if (user === null) {
    console.log("User not found");
    return;
  }
  console.log(user.name);  // 安全
}
```

```typescript
// Optional Chainingでの対処
function processUser(id: number) {
  const user = findUser(id);
  const name = user?.name ?? "Unknown";
  console.log(name);
}
```
