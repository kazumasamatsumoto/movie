# #549 ã€Œãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã€

å››å›½ã‚ãŸã‚“ã€Œneverå‹ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã«ã¤ã„ã¦å­¦ã³ã¾ã—ã‚‡ã†ï¼ã€
ãšã‚“ã ã‚‚ã‚“ã€Œã©ã†ä½¿ã†ã®ãŒãƒ™ã‚¹ãƒˆãªã®ï¼Ÿã€
å››å›½ã‚ãŸã‚“ã€ŒexhaustiveChecké–¢æ•°ã®çµ±ä¸€ã€åˆ¤åˆ¥Unionå‹ã®æ´»ç”¨ã€å‹ã‚¬ãƒ¼ãƒ‰ã®å¾¹åº•ãŒé‡è¦ã§ã™ã€
ãšã‚“ã ã‚‚ã‚“ã€Œå…·ä½“çš„ãªã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã‚’æ•™ãˆã¦ï¼ã€
å››å›½ã‚ãŸã‚“ã€Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã§å…±é€šã®ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°ã‚’å®šç¾©ã—ã€ã™ã¹ã¦ã®åˆ†å²ã§ç¶²ç¾…æ€§ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã­ã€
ãšã‚“ã ã‚‚ã‚“ã€Œãªã‚‹ã»ã©ï¼ãƒãƒ¼ãƒ å…¨ä½“ã§çµ±ä¸€ã§ãã‚‹ã‚“ã ã­ï¼ã€
å››å›½ã‚ãŸã‚“ã€ŒESLintãƒ«ãƒ¼ãƒ«ã¨çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€ã•ã‚‰ã«å“è³ªãŒå‘ä¸Šã—ã¾ã™ã­ã€
ãšã‚“ã ã‚‚ã‚“ã€Œå‹å®‰å…¨ãªé–‹ç™ºæ–‡åŒ–ã‚’ä½œã‚‹ã‚ˆï¼ã€

---

## ğŸ“º ç”»é¢è¡¨ç¤ºç”¨ã‚³ãƒ¼ãƒ‰

```typescript
// ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹1: å…±é€šãƒ˜ãƒ«ãƒ‘ãƒ¼
// utils/exhaustive.ts
export function exhaustiveCheck(value: never, context?: string): never {
  const msg = context
    ? `Unhandled case in ${context}: ${JSON.stringify(value)}`
    : `Unhandled case: ${JSON.stringify(value)}`;
  throw new Error(msg);
}

export function assertNever(value: never): never {
  throw new Error(`Unexpected value: ${value}`);
}
```

```typescript
// ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹2: åˆ¤åˆ¥Unionå‹
type Result<T, E> =
  | { success: true; value: T }
  | { success: false; error: E };

type DomainEvent =
  | { type: 'UserCreated'; userId: string }
  | { type: 'UserUpdated'; userId: string; data: any };

// å¿…ãšåˆ¤åˆ¥ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆtype, kind, successç­‰ï¼‰ã‚’æŒãŸã›ã‚‹
```

```typescript
// ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹3: ã™ã¹ã¦ã®åˆ†å²ã§ç¶²ç¾…æ€§ãƒã‚§ãƒƒã‚¯
function handleEvent(event: DomainEvent): void {
  switch (event.type) {
    case 'UserCreated':
      return this.onCreate(event);
    case 'UserUpdated':
      return this.onUpdate(event);
    default:
      return exhaustiveCheck(event, 'handleEvent');
  }
}
```
