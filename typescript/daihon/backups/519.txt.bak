# #519 ã€Œãƒ‘ã‚¿ãƒ¼ãƒ³é›†ã€

å››å›½ã‚ãŸã‚“ã€Œç¶²ç¾…æ€§ãƒã‚§ãƒƒã‚¯ã®ãƒ‘ã‚¿ãƒ¼ãƒ³é›†ã«ã¤ã„ã¦å­¦ã³ã¾ã—ã‚‡ã†ï¼ã€
ãšã‚“ã ã‚‚ã‚“ã€Œã‚ˆãä½¿ã‚ã‚Œã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ•™ãˆã¦ï¼ã€
å››å›½ã‚ãŸã‚“ã€ŒReducer ãƒ‘ã‚¿ãƒ¼ãƒ³ã€Command ãƒ‘ã‚¿ãƒ¼ãƒ³ã€State ãƒ‘ã‚¿ãƒ¼ãƒ³ãªã©ã§æ´»ç”¨ã§ãã¾ã™ã€
ãšã‚“ã ã‚‚ã‚“ã€Œãã‚Œãã‚Œã©ã†ä½¿ã†ã®ï¼Ÿã€
å››å›½ã‚ãŸã‚“ã€Œå„ãƒ‘ã‚¿ãƒ¼ãƒ³ã§åˆ¤åˆ¥Unionå‹ã¨neverå‹ãƒã‚§ãƒƒã‚¯ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€å‹å®‰å…¨æ€§ã‚’ç¢ºä¿ã—ã¾ã™ã€
ãšã‚“ã ã‚‚ã‚“ã€Œãªã‚‹ã»ã©ï¼è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã¨å‹ãŒèåˆã™ã‚‹ã‚“ã ã­ï¼ã€
å››å›½ã‚ãŸã‚“ã€Œé–¢æ•°å‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã¨ã®ç›¸æ€§ã‚‚æŠœç¾¤ã§ã™ã­ã€
ãšã‚“ã ã‚‚ã‚“ã€Œå®Ÿè·µçš„ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¦šãˆã¦ä½¿ã„ã“ãªã™ã‚ˆï¼ã€

---

## ğŸ“º ç”»é¢è¡¨ç¤ºç”¨ã‚³ãƒ¼ãƒ‰

```typescript
// Reducerãƒ‘ã‚¿ãƒ¼ãƒ³
type CounterAction =
  | { type: 'increment'; by: number }
  | { type: 'decrement'; by: number }
  | { type: 'reset' };

function counterReducer(state: number, action: CounterAction): number {
  switch (action.type) {
    case 'increment': return state + action.by;
    case 'decrement': return state - action.by;
    case 'reset': return 0;
    default: return exhaustiveCheck(action);
  }
}
```

```typescript
// Commandãƒ‘ã‚¿ãƒ¼ãƒ³
interface Command<T = void> {
  execute(): T;
}

type AppCommand =
  | { kind: 'save'; data: string }
  | { kind: 'load'; id: number }
  | { kind: 'delete'; id: number };

function executeCommand(cmd: AppCommand): void {
  if (cmd.kind === 'save') save(cmd.data);
  else if (cmd.kind === 'load') load(cmd.id);
  else if (cmd.kind === 'delete') remove(cmd.id);
  else exhaustiveCheck(cmd);
}
```

```typescript
// Stateãƒ‘ã‚¿ãƒ¼ãƒ³
type ConnectionState =
  | { status: 'disconnected' }
  | { status: 'connecting'; attempt: number }
  | { status: 'connected'; sessionId: string };

function getLabel(state: ConnectionState): string {
  switch (state.status) {
    case 'disconnected': return 'åˆ‡æ–­';
    case 'connecting': return `æ¥ç¶šä¸­(${state.attempt})`;
    case 'connected': return `æ¥ç¶šæ¸ˆ(${state.sessionId})`;
    default: return exhaustiveCheck(state);
  }
}
```
