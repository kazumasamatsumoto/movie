# #519ã€Œãƒ‘ã‚¿ãƒ¼ãƒ³é›†ã€

å››å›½ã‚ãŸã‚“ã€Œç¶²ç¾…æ€§ãƒã‚§ãƒƒã‚¯ã®ãƒ‘ã‚¿ãƒ¼ãƒ³é›†ã‚’è¦‹ã¦ã„ãã¾ã—ã‚‡ã†ï¼ã€
ãšã‚“ã ã‚‚ã‚“ã€Œã‚ˆãä½¿ã†ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ•™ãˆã¦ï¼ã€
å››å›½ã‚ãŸã‚“ã€ŒRedux reducerã€ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã€çŠ¶æ…‹é·ç§»ã€APIãƒ¬ã‚¹ãƒãƒ³ã‚¹å‡¦ç†ã®4ã¤ãŒåŸºæœ¬ã§ã™ã­ã€
ãšã‚“ã ã‚‚ã‚“ã€Œãã‚Œãã‚Œã®ç‰¹å¾´ã¯ï¼Ÿã€
å››å›½ã‚ãŸã‚“ã€Œåˆ¤åˆ¥ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§å‹ã‚’åˆ†å²ã—ã¾ã™ã€‚typeã€statusã€kindãªã©ãŒä½¿ã‚ã‚Œã¾ã™ã­ã€
ãšã‚“ã ã‚‚ã‚“ã€Œãªã‚‹ã»ã©ï¼å…±é€šãƒ‘ã‚¿ãƒ¼ãƒ³ãŒã‚ã‚‹ã‚“ã ã­ï¼ã€
å››å›½ã‚ãŸã‚“ã€Œãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ã—ã¦å†åˆ©ç”¨ã§ãã¾ã™ã€‚TypeScript v5.9ã§ã‚‚ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒæ¨å¥¨ã•ã‚Œã¾ã™ã­ã€
ãšã‚“ã ã‚‚ã‚“ã€Œå®Ÿè·µã§ä½¿ãˆã‚‹ã‚“ã ã­ï¼ã€

---

## ğŸ“º ç”»é¢è¡¨ç¤ºç”¨ã‚³ãƒ¼ãƒ‰

```typescript
// ãƒ‘ã‚¿ãƒ¼ãƒ³1: State Machine
type State =
  | { phase: "init" }
  | { phase: "running"; startTime: number }
  | { phase: "paused"; elapsed: number }
  | { phase: "finished"; totalTime: number };

function getStateMessage(state: State): string {
  switch (state.phase) {
    case "init": return "åˆæœŸåŒ–å®Œäº†";
    case "running": return `å®Ÿè¡Œä¸­ (${Date.now() - state.startTime}ms)`;
    case "paused": return `ä¸€æ™‚åœæ­¢ (${state.elapsed}ms)`;
    case "finished": return `å®Œäº† (${state.totalTime}ms)`;
    default: return assertNever(state);
  }
}
```

```typescript
// ãƒ‘ã‚¿ãƒ¼ãƒ³2: API Response
type ApiResponse<T> =
  | { status: 200; data: T }
  | { status: 404; message: string }
  | { status: 500; error: Error };

function handleResponse<T>(res: ApiResponse<T>): void {
  switch (res.status) {
    case 200: console.log(res.data); break;
    case 404: console.warn(res.message); break;
    case 500: console.error(res.error); break;
    default: assertNever(res);
  }
}
```

```typescript
// ãƒ‘ã‚¿ãƒ¼ãƒ³3: Command Pattern
type Command =
  | { type: "move"; x: number; y: number }
  | { type: "rotate"; angle: number }
  | { type: "scale"; factor: number };

function executeCommand(cmd: Command): void {
  switch (cmd.type) {
    case "move": console.log(`Move to ${cmd.x},${cmd.y}`); break;
    case "rotate": console.log(`Rotate ${cmd.angle}Â°`); break;
    case "scale": console.log(`Scale ${cmd.factor}x`); break;
    default: assertNever(cmd);
  }
}
```
