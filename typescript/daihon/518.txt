# #518ã€Œãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã€

å››å›½ã‚ãŸã‚“ã€Œç¶²ç¾…æ€§ãƒã‚§ãƒƒã‚¯ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’å­¦ã³ã¾ã—ã‚‡ã†ï¼ã€
ãšã‚“ã ã‚‚ã‚“ã€Œã©ã‚“ãªãƒ«ãƒ¼ãƒ«ãŒã‚ã‚‹ã®ï¼Ÿã€
å››å›½ã‚ãŸã‚“ã€Œå¿…ãšdefault/elseç¯€ã‚’æ›¸ãã€assertNeveré–¢æ•°ã‚’ä½¿ã†ã€åˆ¤åˆ¥Unionå‹ã‚’æ´»ç”¨ã™ã‚‹ã€ã“ã®3ã¤ã§ã™ã­ã€
ãšã‚“ã ã‚‚ã‚“ã€Œä»–ã«æ³¨æ„ç‚¹ã¯ï¼Ÿã€
å››å›½ã‚ãŸã‚“ã€Œå‹æ³¨é‡ˆã‚’æ˜ç¤ºçš„ã«æ›¸ãã€strictãƒ¢ãƒ¼ãƒ‰ã‚’æœ‰åŠ¹ã«ã—ã¾ã™ã€‚ESLintãƒ«ãƒ¼ãƒ«ã‚‚è¨­å®šã—ã¾ã™ã­ã€
ãšã‚“ã ã‚‚ã‚“ã€Œãªã‚‹ã»ã©ï¼ãƒãƒ¼ãƒ å…¨ä½“ã§çµ±ä¸€ã™ã‚‹ã‚“ã ã­ï¼ã€
å››å›½ã‚ãŸã‚“ã€Œã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã«å…¥ã‚Œã¾ã™ã€‚TypeScript v5.9ã§ã‚‚æ¨å¥¨ã•ã‚Œã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã™ã­ã€
ãšã‚“ã ã‚‚ã‚“ã€Œå“è³ªã®é«˜ã„ã‚³ãƒ¼ãƒ‰ãŒæ›¸ã‘ã‚‹ã‚“ã ã­ï¼ã€

---

## ğŸ“º ç”»é¢è¡¨ç¤ºç”¨ã‚³ãƒ¼ãƒ‰

```typescript
// ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ä¾‹
// 1. åˆ¤åˆ¥Unionå‹ã‚’ä½¿ã†
type Result<T> =
  | { status: "success"; data: T }
  | { status: "error"; error: Error }
  | { status: "loading" };

// 2. assertNeveré–¢æ•°ã‚’å®šç¾©
function assertNever(value: never): never {
  throw new Error(`Unexpected value: ${value}`);
}
```

```typescript
// 3. switchæ–‡ã§ç¶²ç¾…æ€§ãƒã‚§ãƒƒã‚¯
function handleResult<T>(result: Result<T>): void {
  switch (result.status) {
    case "success":
      console.log("Data:", result.data);
      break;
    case "error":
      console.error("Error:", result.error);
      break;
    case "loading":
      console.log("Loading...");
      break;
    default:
      assertNever(result);  // å¿…é ˆ
  }
}
```

```typescript
// 4. å‹æ³¨é‡ˆã‚’æ˜ç¤º
type Handler = (result: Result<string>) => void;

const handler: Handler = (result) => {
  handleResult(result);
};
```
