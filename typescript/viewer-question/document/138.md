# #138 「`T extends any`って書いたことある？」制作ドキュメント

## 台本
ずんだもん「`T extends any`って書いたことある？」
四国めたん「v5.9では`T extends any`は実質的に制約がないため、通常は不要ですが、特殊な型操作で使われることがあります」
ずんだもん「ぼくは条件型の分配を制御するために`T extends any`を使ったことがあるけど、トリッキーだと思ったんだよね」
四国めたん「`T extends any`は常に真になる制約で、主にユニオン型の分配動作を利用するために書かれます」
ずんだもん「高度な型ユーティリティを作ってる時に`T extends any`の意味を理解するまで時間がかかったんだよ！」
四国めたん「みなさんは`T extends any`を書いたことがありますか？」
ずんだもん「使ったケースや理由をコメントで教えてね！」

## 画面表示用コード

```typescript
// ユニオン型の分配を利用するパターン
type ToArray<T> = T extends any ? T[] : never;

type Result = ToArray<string | number>;
// string[] | number[] （分配される）

// [T]で分配を防ぐパターン
type ToArrayNonDistributive<T> = [T] extends [any] ? T[] : never;

type Result2 = ToArrayNonDistributive<string | number>;
// (string | number)[] （分配されない）
```

```typescript
// 実用例: ユニオン型の各要素を変換
type BoxEach<T> = T extends any ? { value: T } : never;

type Boxes = BoxEach<'a' | 'b' | 'c'>;
// { value: 'a' } | { value: 'b' } | { value: 'c' }
```

## 制作メモ
- **問いの切り口**: T extends anyの使用経験
- **想定視聴者層**: 高度な型操作を行うエンジニア
- **押さえる技術キーワード**: extends any, 条件型, ユニオン分配, 分配型
- **キャラの立場**: 四国めたん=技術的意味解説 / ずんだもん=理解の難しさ共感
- **コメントで聞きたいこと**: 使用経験や使用ケース
- **補足メモ**: ユニオン型の分配という高度な概念を実例で説明
