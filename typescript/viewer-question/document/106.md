# #106 「`type guard`と`assertion function`、使い分けてる？」制作ドキュメント

## 台本
ずんだもん「`type guard`と`assertion function`、使い分けてる？」
四国めたん「v5.9では両方の機能が安定していて、型の絞り込みがより強力になりました」
ずんだもん「ぼくは`type guard`で真偽値を返すのが好きだけど、`assertion function`で例外を投げる方が安全な場面もあるんだよね」
四国めたん「`type guard`は`is`で型を絞り込み、`assertion function`は`asserts`で型をアサートします」
ずんだもん「現場だとnullチェックに`assertion function`を使うとコードがスッキリするんだよ！」
四国めたん「みなさんはどう使い分けていますか？」
ずんだもん「使い分けの基準をコメントで教えて！」

## 画面表示用コード

```typescript
function isString(value: unknown): value is string {
  return typeof value === "string";
}

function assertDefined<T>(value: T): asserts value is NonNullable<T> {
  if (value === null || value === undefined) {
    throw new Error("Value is null or undefined");
  }
}
```

## 制作メモ
- **問いの切り口**: type guardとassertion functionをどう使い分けているか
- **想定視聴者層**: TypeScriptの型絞り込みを使いこなしたいエンジニア
- **押さえる技術キーワード**: type guard, assertion function, is, asserts
- **キャラの立場**: 四国めたん=整理役 / ずんだもん=実装現場視点
- **コメントで聞きたいこと**: 使い分けの基準
- **補足メモ**: 両者の違いと使い分けのポイントを紹介
