# #137 「ジェネリクスの制約、`extends`使いすぎてない？」制作ドキュメント

## 台本
ずんだもん「ジェネリクスの制約、`extends`使いすぎてない？」
四国めたん「v5.9ではジェネリクスの制約が柔軟になりましたが、過度な制約は型の可読性を下げる可能性があります」
ずんだもん「ぼくは本当に必要な制約だけを付けて、シンプルに保つことを心がけてるんだよね」
四国めたん「`extends`による制約は型安全性を高めますが、複雑な制約は理解しにくく、メンテナンスが困難になります」
ずんだもん「過度に制約を付けたジェネリック関数が、実際の使用場面で柔軟性がなくて使いにくかったんだよ！」
四国めたん「みなさんはジェネリクスの制約をどう考えていますか？」
ずんだもん「適切なバランスの取り方をコメントで教えてね！」

## 画面表示用コード

```typescript
// 適切な制約（必要最小限）
function getProperty<T, K extends keyof T>(obj: T, key: K): T[K] {
  return obj[key];
}

// 過度な制約（複雑で理解しにくい）
function complexFunction<
  T extends { id: string; name: string },
  K extends keyof T & string,
  V extends T[K] extends string ? T[K] : never
>(obj: T, key: K): V {
  // 制約が複雑すぎて使いにくい
  return obj[key] as V;
}
```

```typescript
// シンプルで柔軟なアプローチ
function mapObject<T extends object, U>(
  obj: T,
  fn: (value: T[keyof T]) => U
): Record<keyof T, U> {
  // 必要最小限の制約で柔軟性を保つ
}

// 使用場面に応じた制約
function findById<T extends { id: string }>(items: T[], id: string): T | undefined {
  return items.find(item => item.id === id);
}
```

## 制作メモ
- **問いの切り口**: ジェネリクスの制約の適切さ
- **想定視聴者層**: ジェネリクスの設計を考えるエンジニア
- **押さえる技術キーワード**: ジェネリクス, extends, 型制約, 可読性
- **キャラの立場**: 四国めたん=バランスの重要性解説 / ずんだもん=過度な制約の弊害
- **コメントで聞きたいこと**: 制約の考え方やバランスの取り方
- **補足メモ**: シンプルな制約と複雑な制約の対比を明確に
