# #125 「`fp-ts`導入してる？検討中？避けてる？」制作ドキュメント

## 台本
ずんだもん「`fp-ts`導入してる？検討中？避けてる？」
四国めたん「v5.9では高階型の扱いが改善され、`fp-ts`のような関数型ライブラリがより使いやすくなっています」
ずんだもん「ぼくは`fp-ts`の型安全性は魅力的だけど、学習コストとチームの理解度を考えて導入を慎重に判断してるんだよね」
四国めたん「`fp-ts`は`Either`、`Option`、`Task`などの型と関数で関数型プログラミングを実現できますが、習得には時間がかかります」
ずんだもん「一部のプロジェクトで`fp-ts`を使ったら、コードは綺麗になったけど、新メンバーの教育が大変だったんだよ！」
四国めたん「みなさんは`fp-ts`を導入していますか？」
ずんだもん「導入の判断基準や経験をコメントで教えてね！」

## 画面表示用コード

```typescript
import { pipe } from 'fp-ts/function';
import * as E from 'fp-ts/Either';
import * as TE from 'fp-ts/TaskEither';

// fp-tsを使った処理チェーン
const validateAndSave = (input: string): TE.TaskEither<Error, User> =>
  pipe(
    input,
    validateInput,
    E.map(createUser),
    TE.fromEither,
    TE.chain(saveToDatabase)
  );
```

```typescript
// より軽量な代替アプローチ
type Result<T, E> = { success: true; value: T } | { success: false; error: E };

async function validateAndSave(input: string): Promise<Result<User, Error>> {
  const validated = validateInput(input);
  if (!validated.success) return validated;

  const user = createUser(validated.value);
  return await saveToDatabase(user);
}
```

## 制作メモ
- **問いの切り口**: fp-tsの導入判断
- **想定視聴者層**: 関数型プログラミングライブラリの導入を検討するエンジニア
- **押さえる技術キーワード**: fp-ts, 関数型プログラミング, Either, Option, Task
- **キャラの立場**: 四国めたん=技術的特徴解説 / ずんだもん=導入の現実的課題指摘
- **コメントで聞きたいこと**: 導入状況や判断基準、経験
- **補足メモ**: 学習コストとメリットのトレードオフを明示
