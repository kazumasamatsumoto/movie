# #140 「型引数の順序、どう決めてる？」制作ドキュメント

## 台本
ずんだもん「型引数の順序、どう決めてる？」
四国めたん「v5.9では型引数の順序は重要で、使用頻度や推論のしやすさを考慮して決めるべきです」
ずんだもん「ぼくは推論される型を後ろに、明示的に指定する型を前に配置するようにしてるんだよね」
四国めたん「型引数の順序は、デフォルト型パラメータとの組み合わせや、部分適用の観点から設計します」
ずんだもん「型引数の順序を間違えて、毎回全部の型を書かないといけなくなったことがあったんだよ！」
四国めたん「みなさんは型引数の順序をどう決めていますか？」
ずんだもん「設計のポイントをコメントで教えてね！」

## 画面表示用コード

```typescript
// 良い順序: 推論しにくい型を前に
function map<T, U>(items: T[], fn: (item: T) => U): U[] {
  // T は items から推論される
  // U は fn の戻り値から推論される
  return items.map(fn);
}

const numbers = [1, 2, 3];
const strings = map(numbers, n => n.toString()); // 型引数不要
```

```typescript
// 悪い順序: 推論される型が前にある
function badMap<U, T>(fn: (item: T) => U, items: T[]): U[] {
  // U が先にあるため、型引数を明示する必要がある
  return items.map(fn);
}

const strings2 = badMap<string, number>(n => n.toString(), numbers); // 冗長
```

```typescript
// デフォルト型との組み合わせ
type ApiCall<TData, TError = Error> = {
  data?: TData;
  error?: TError;
};

// よく変わる型を前に、固定的な型を後ろに（デフォルト値付き）
const result: ApiCall<User> = { data: user }; // TError は省略可能
```

## 制作メモ
- **問いの切り口**: 型引数の順序の決め方
- **想定視聴者層**: ジェネリクス設計を考えるエンジニア
- **押さえる技術キーワード**: 型引数, 順序, 型推論, デフォルト型パラメータ
- **キャラの立場**: 四国めたん=設計原則解説 / ずんだもん=失敗経験から学習
- **コメントで聞きたいこと**: 型引数の順序決定のポイント
- **補足メモ**: 良い順序と悪い順序の具体例で対比
