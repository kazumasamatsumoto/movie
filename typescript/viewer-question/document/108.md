# #108 「`discriminated union`、積極的に設計してる？」制作ドキュメント

## 台本
ずんだもん「`discriminated union`、積極的に設計してる？」
四国めたん「v5.9では`discriminated union`の型推論がさらに賢くなりました」
ずんだもん「ぼくはAPIレスポンスや状態管理で`discriminated union`を使うのが好きなんだよね」
四国めたん「タグプロパティで判別すれば、switch文で完全に型が絞り込まれます」
ずんだもん「現場だとエラーハンドリングが型安全になって、パターンの漏れがコンパイル時に見つかるんだよ！」
四国めたん「みなさんは積極的に使っていますか？」
ずんだもん「活用シーンをコメントで教えて！」

## 画面表示用コード

```typescript
type Result<T> =
  | { status: "success"; data: T }
  | { status: "error"; error: string }
  | { status: "loading" };

function handle<T>(result: Result<T>) {
  switch (result.status) {
    case "success": return result.data;
    case "error": return result.error;
    case "loading": return null;
  }
}
```

## 制作メモ
- **問いの切り口**: discriminated unionを積極的に設計しているか
- **想定視聴者層**: TypeScriptの型設計に興味があるエンジニア
- **押さえる技術キーワード**: discriminated union, tagged union, 型の絞り込み
- **キャラの立場**: 四国めたん=整理役 / ずんだもん=実装現場視点
- **コメントで聞きたいこと**: 活用シーンや設計のコツ
- **補足メモ**: APIレスポンスや状態管理での実用例を紹介
