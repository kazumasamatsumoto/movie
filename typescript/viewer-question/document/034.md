# #034 「`Promise.all`の型付け、どうしてる？」制作ドキュメント

## 台本
ずんだもん「`Promise.all`の型付け、どうしてる？」
四国めたん「非同期戻り値の扱いは`Promise.all`の型付け、どうしてるでも議論が尽きませんね」
ずんだもん「ぼくは`Awaited`で型を抜き出す派だけど、意図しないユニオンになると焦るんだよね」
四国めたん「明示的に書く安心感と、推論に任せるスピード感のバランスが難しいです」
ずんだもん「現場だと`Promise.all`の型レビューで会議が30分延長する事件が起こるんだよ！」
四国めたん「みなさんはどうしていますか？コメントで“async戻り型”って教えてください！」
ずんだもん「理由も添えてくれたら嬉しいな！」

## 画面表示用コード

```typescript
async function fetchUser() {
  return { id: "1", name: "m" };
}

type UserPromise = ReturnType<typeof fetchUser>;
type User = Awaited<UserPromise>;

async function load() {
  const user: User = await fetchUser();
  return user.name;
}
```

## 制作メモ
- **問いの切り口**: `Promise.all`の型付け、どうしてる？
- **想定視聴者層**: TypeScriptの設計やルール決めで悩むエンジニア
- **押さえる技術キーワード**: Promise, `Awaited`, 戻り値
- **キャラの立場**: 四国めたん=整理役 / ずんだもん=実装現場の迷いを代弁
- **コメントで聞きたいこと**: async戻り型
- **補足メモ**: 戻り値管理のテクニックをコメントで教えてもらう。
- **進行トーン**: 非同期あるあるを軽快に
