# #147 「`ReturnType`自作したことある？」制作ドキュメント

## 台本
ずんだもん「`ReturnType`自作したことある？」
四国めたん「v5.9では`ReturnType`は標準ユーティリティ型ですが、仕組みを理解するために自作するのは良い学習になります」
ずんだもん「ぼくは`infer`を学ぶために、`ReturnType`や`Parameters`を自分で実装してみたんだよね」
四国めたん「`ReturnType`は条件型と`infer`キーワードを使って、関数の戻り値型を抽出します」
ずんだもん「自作してみたら、`infer`の使い方と条件型の仕組みが理解できて、他の複雑な型も読めるようになったんだよ！」
四国めたん「みなさんは`ReturnType`を自作したことがありますか？」
ずんだもん「学習経験や気づきをコメントで教えてね！」

## 画面表示用コード

```typescript
// ReturnTypeの自作実装
type MyReturnType<T> = T extends (...args: any[]) => infer R ? R : never;

// 使用例
function getUser() {
  return { id: '123', name: 'Alice' };
}

type User = MyReturnType<typeof getUser>;
// { id: string; name: string }
```

```typescript
// より厳密な実装
type StrictReturnType<T extends (...args: any) => any> =
  T extends (...args: any) => infer R ? R : never;

// Parametersの自作
type MyParameters<T> = T extends (...args: infer P) => any ? P : never;

function add(a: number, b: number): number {
  return a + b;
}

type AddParams = MyParameters<typeof add>; // [number, number]
type AddReturn = MyReturnType<typeof add>; // number
```

## 制作メモ
- **問いの切り口**: ReturnTypeの自作経験
- **想定視聴者層**: TypeScriptの型システムを深く学びたいエンジニア
- **押さえる技術キーワード**: ReturnType, infer, 条件型, 型抽出
- **キャラの立場**: 四国めたん=学習価値の説明 / ずんだもん=自作による理解促進
- **コメントで聞きたいこと**: 自作経験や学習の気づき
- **補足メモ**: 自作を通じた学習効果を強調
