# #123 「`Option<T>`型パターン、使ってる？」制作ドキュメント

## 台本
ずんだもん「`Option<T>`型パターン、使ってる？」
四国めたん「v5.9では`undefined`との組み合わせで、`Option`型のような値の存在を表現する型がより扱いやすくなっています」
ずんだもん「ぼくは`null`や`undefined`の代わりに、`Some`と`None`で値の有無を表現するのが好きなんだよね」
四国めたん「`Option`型を使うと、値が存在しない可能性を明示的に型で表現でき、安全な値の取り出しが強制されます」
ずんだもん「データベースの検索結果で`Option`型を使ったら、存在チェックの漏れが完全になくなったんだよ！」
四国めたん「みなさんは`Option`型パターンを使っていますか？」
ずんだもん「実装方法や使い心地をコメントで教えてね！」

## 画面表示用コード

```typescript
type Option<T> =
  | { type: 'some'; value: T }
  | { type: 'none' };

function findUser(id: string): Option<User> {
  const user = database.get(id);
  if (user) {
    return { type: 'some', value: user };
  }
  return { type: 'none' };
}

const userOption = findUser('123');
if (userOption.type === 'some') {
  console.log('Found user:', userOption.value.name);
} else {
  console.log('User not found');
}
```

```typescript
// ヘルパー関数
function map<T, U>(option: Option<T>, fn: (value: T) => U): Option<U> {
  if (option.type === 'some') {
    return { type: 'some', value: fn(option.value) };
  }
  return { type: 'none' };
}

const userName = map(findUser('123'), user => user.name);
```

## 制作メモ
- **問いの切り口**: Option型パターンの使用状況
- **想定視聴者層**: 関数型プログラミングや型安全性を重視するエンジニア
- **押さえる技術キーワード**: Option型, Some, None, 判別可能なユニオン
- **キャラの立場**: 四国めたん=型による安全性強調 / ずんだもん=実用例の紹介
- **コメントで聞きたいこと**: Option型の使用状況や実装方法
- **補足メモ**: null/undefinedより明示的な値の不在を表現する方法を提示
