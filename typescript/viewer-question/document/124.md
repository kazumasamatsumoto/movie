# #124 「`Maybe`型のライブラリ、何使ってる？」制作ドキュメント

## 台本
ずんだもん「`Maybe`型のライブラリ、何使ってる？」
四国めたん「v5.9では型推論が改善され、`Maybe`型ライブラリの使い勝手が向上しています」
ずんだもん「ぼくは`fp-ts`の`Option`とか、軽量な自作実装を使い分けてるんだよね」
四国めたん「`Maybe`型ライブラリは、`map`や`flatMap`などのメソッドで関数型スタイルの処理チェーンが書けます」
ずんだもん「APIレスポンスの深いネストを`Maybe`でチェーンしたら、nullチェック地獄から解放されたんだよ！」
四国めたん「みなさんは`Maybe`型のライブラリを使っていますか？」
ずんだもん「おすすめのライブラリや使い方をコメントで教えてね！」

## 画面表示用コード

```typescript
// fp-tsの使用例
import { Option, some, none, map, chain } from 'fp-ts/Option';

function getUserEmail(userId: string): Option<string> {
  const user = findUser(userId);
  return user ? some(user.email) : none;
}

const email = pipe(
  getUserEmail('123'),
  map(email => email.toLowerCase()),
  map(email => email.trim())
);
```

```typescript
// 軽量な自作実装
class Maybe<T> {
  constructor(private value: T | null | undefined) {}

  map<U>(fn: (value: T) => U): Maybe<U> {
    return this.value != null
      ? new Maybe(fn(this.value))
      : new Maybe<U>(null);
  }

  getOrElse(defaultValue: T): T {
    return this.value ?? defaultValue;
  }
}

const userName = new Maybe(user)
  .map(u => u.profile)
  .map(p => p.name)
  .getOrElse('Anonymous');
```

## 制作メモ
- **問いの切り口**: Maybe型ライブラリの使用状況
- **想定視聴者層**: 関数型プログラミングライブラリに興味があるエンジニア
- **押さえる技術キーワード**: Maybe型, fp-ts, Option, 関数合成
- **キャラの立場**: 四国めたん=ライブラリの特徴解説 / ずんだもん=実用的な使い分け
- **コメントで聞きたいこと**: 使用しているライブラリやおすすめ
- **補足メモ**: fp-tsと自作実装の両方を提示して選択肢を示す
