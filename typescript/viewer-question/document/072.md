# #072 「`module augmentation`使ってる？怖い？」制作ドキュメント

## 台本
ずんだもん「`module augmentation`使ってる？怖い？」
四国めたん「`module`ターゲットの選択は`module augmentation`使ってるでも環境依存ですね」
ずんだもん「ぼくはブラウザは`module augmentation`使ってる派だけど、Nodeでは怖いに戻りたくなるんだよね」
四国めたん「`module augmentation`使ってるは最新構文とtree-shakingが強み、怖いは互換性と既存ツールの安心感があります」
ずんだもん「現場だとターゲットを切り替えたら`require`が怒って、深夜に設定を差し戻す事件が起きるんだよ！」
四国めたん「みなさんはどうしていますか？コメントで“module設定”って教えてください！」
ずんだもん「理由も添えてくれたら嬉しいな！」

## 画面表示用コード

```typescript
// tsconfig.esm.json
{
  "compilerOptions": {
    "module": "esnext"
  }
}

// tsconfig.cjs.json
{
  "compilerOptions": {
    "module": "commonjs"
  }
}

export const echo = (value: string) => value;
```

## 制作メモ
- **問いの切り口**: `module augmentation`使ってる？怖い？
- **想定視聴者層**: TypeScriptの設計やルール決めで悩むエンジニア
- **押さえる技術キーワード**: `module`, ESM, CJS
- **キャラの立場**: 四国めたん=整理役 / ずんだもん=実装現場の迷いを代弁
- **コメントで聞きたいこと**: module設定
- **補足メモ**: デプロイ環境別の設定方針をコメントで共有してもらう。
- **進行トーン**: デプロイ現場の悩みを共有
