# #154 「`bind`の型、信用してる？」制作ドキュメント

## 台本
ずんだもん「`bind`の型、信用してる？」
四国めたん「v5.9では`bind`の型推論は改善されていますが、完璧ではないケースもあります」
ずんだもん「ぼくは`bind`を使う時、型推論が効かない場面があるから、アロー関数で書き直すこともあるんだよね」
四国めたん「`bind`は実行時に`this`を固定しますが、TypeScriptの型システムでは元の関数型がそのまま保たれます」
ずんだもん「複雑な関数で`bind`を使ったら、型推論がうまくいかなくて明示的な型注釈が必要だったことがあるんだよ！」
四国めたん「みなさんは`bind`の型を信用していますか？」
ずんだもん「問題に遭遇した経験をコメントで教えてね！」

## 画面表示用コード

```typescript
class Calculator {
  base = 10;

  add(x: number): number {
    return this.base + x;
  }

  // bindの型推論
  getBoundAdd() {
    const boundAdd = this.add.bind(this);
    // 型は (x: number) => number として推論される
    return boundAdd;
  }

  // アロー関数の代替（より確実）
  getBoundAddArrow() {
    return (x: number) => this.add(x);
    // thisが確実に保持され、型も明確
  }
}
```

```typescript
// bindで問題が起きるケース
interface Context {
  name: string;
}

function greet(this: Context, message: string): string {
  return `${message}, ${this.name}`;
}

const context: Context = { name: 'Alice' };
const boundGreet = greet.bind(context);
// 型は (this: Context, message: string) => string のまま

// より安全なパターン
const arrowGreet = (message: string) => greet.call(context, message);
// 型は (message: string) => string として明確
```

```typescript
// strictBindCallApplyオプションで改善
// tsconfig.json: "strictBindCallApply": true
const betterBound = greet.bind(context);
// strictモードでより正確な型チェック
```

## 制作メモ
- **問いの切り口**: bindの型の信頼性
- **想定視聴者層**: bind使用時の型安全性を気にするエンジニア
- **押さえる技術キーワード**: bind, this, 型推論, strictBindCallApply
- **キャラの立場**: 四国めたん=改善状況と限界解説 / ずんだもん=実践的な代替手段
- **コメントで聞きたいこと**: bindの型に関する問題経験
- **補足メモ**: アロー関数という代替手段を提示
