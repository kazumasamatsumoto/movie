# #134 「`as const`の乱用、防いでる？」制作ドキュメント

## 台本
ずんだもん「`as const`の乱用、防いでる？」
四国めたん「v5.9では`as const`は便利ですが、過度に使うと型が複雑になり、可読性が下がる可能性があります」
ずんだもん「ぼくは本当に厳密な型が必要な定数だけに`as const`を使って、通常の値には付けないようにしてるんだよね」
四国めたん「`as const`を乱用すると、型が過度に具体的になり、柔軟性が失われることがあります」
ずんだもん「全部に`as const`付けてたプロジェクトで、型エラーが増えて逆に生産性が落ちたことがあったんだよ！」
四国めたん「みなさんは`as const`の使用をどう制限していますか？」
ずんだもん「適切な使い分けのルールをコメントで教えてね！」

## 画面表示用コード

```typescript
// 適切な使用: 定数として使う値
const API_ENDPOINTS = {
  users: '/api/users',
  posts: '/api/posts',
} as const;

type Endpoint = typeof API_ENDPOINTS[keyof typeof API_ENDPOINTS];
```

```typescript
// 不適切な乱用: 通常の変数まで as const
function createUser(name: string) {
  // これは不要（過度に厳密）
  const user = {
    id: generateId(),
    name: name,
    createdAt: new Date(),
  } as const; // ← 不要！

  return user; // 型が硬直化して扱いにくくなる
}
```

```typescript
// バランスの取れた使い方
const user = {
  id: generateId(),
  name: name,
  createdAt: new Date(),
}; // as constなし、柔軟性を保つ

// 定数の配列や設定値にのみ使用
const ALLOWED_ROLES = ['admin', 'editor', 'viewer'] as const;
```

## 制作メモ
- **問いの切り口**: as constの乱用防止
- **想定視聴者層**: 型の適切な厳密さを考えるエンジニア
- **押さえる技術キーワード**: as const, 型の柔軟性, 過度な型制約
- **キャラの立場**: 四国めたん=バランスの重要性解説 / ずんだもん=乱用の弊害経験
- **コメントで聞きたいこと**: as constの制限方法や使い分けルール
- **補足メモ**: 適切な使用と不適切な乱用の例を明確に対比
