# #151 「`ThisParameterType`って知ってる？使ってる？」制作ドキュメント

## 台本
ずんだもん「`ThisParameterType`って知ってる？使ってる？」
四国めたん「v5.9では`ThisParameterType`は関数の`this`パラメータの型を抽出する、やや特殊なユーティリティ型です」
ずんだもん「ぼくは明示的に`this`を指定する関数で、その型を再利用する時に使ったことがあるんだよね」
四国めたん「`ThisParameterType`は、関数の`this`パラメータから型を取り出すことができます」
ずんだもん「イベントハンドラーで`this`の型を厳密に扱う時に、`ThisParameterType`が役立ったんだよ！」
四国めたん「みなさんは`ThisParameterType`を知っていますか？」
ずんだもん「使った経験があったらコメントで教えてね！」

## 画面表示用コード

```typescript
// thisパラメータを持つ関数
function greet(this: { name: string }, message: string) {
  return `${message}, ${this.name}`;
}

// thisパラメータの型を抽出
type GreetThis = ThisParameterType<typeof greet>;
// { name: string }
```

```typescript
// 実用例: イベントハンドラー
interface Button {
  label: string;
  onClick(this: Button, event: MouseEvent): void;
}

type ButtonContext = ThisParameterType<Button['onClick']>;
// Button

function createButton(context: ButtonContext, handler: Button['onClick']) {
  return {
    ...context,
    onClick: handler
  };
}
```

```typescript
// OmitThisParameterと組み合わせる
function bindContext<T, F extends (this: T, ...args: any[]) => any>(
  context: T,
  fn: F
): OmitThisParameter<F> {
  return fn.bind(context);
}
```

## 制作メモ
- **問いの切り口**: ThisParameterTypeの認知度と使用経験
- **想定視聴者層**: thisを明示的に扱うエンジニア
- **押さえる技術キーワード**: ThisParameterType, this, 型抽出
- **キャラの立場**: 四国めたん=特殊なユーティリティ解説 / ずんだもん=使用経験共有
- **コメントで聞きたいこと**: 認知度や使用経験
- **補足メモ**: thisパラメータという高度な機能の実用例を提示
