# #118 「`useUnknownInCatchVariables`ONにしてる？」制作ドキュメント

## 台本
ずんだもん「`useUnknownInCatchVariables`ONにしてる？」
四国めたん「v5.9では`useUnknownInCatchVariables`がstrictモードに含まれ、catch句の変数が`unknown`型になります」
ずんだもん「ぼくはこのオプション有効にして、エラーハンドリングを型安全にするのが好きなんだよね」
四国めたん「`useUnknownInCatchVariables`を有効にすると、catch句の変数が`any`から`unknown`になり、型ガードが必須になります」
ずんだもん「エラー処理で`instanceof Error`チェックが習慣化されて、予期しない値のスローにも対応できるようになったんだよ！」
四国めたん「みなさんはこのオプションを有効にしていますか？」
ずんだもん「エラーハンドリングのパターンをコメントで共有してね！」

## 画面表示用コード

```typescript
// useUnknownInCatchVariables: true の場合
try {
  riskyOperation();
} catch (error) {
  // error は unknown 型
  if (error instanceof Error) {
    console.error(error.message);
  } else {
    console.error('Unknown error:', error);
  }
}
```

```typescript
// 型ガード関数を使ったパターン
function isErrorWithMessage(error: unknown): error is { message: string } {
  return (
    typeof error === 'object' &&
    error !== null &&
    'message' in error &&
    typeof error.message === 'string'
  );
}

try {
  riskyOperation();
} catch (error) {
  if (isErrorWithMessage(error)) {
    console.error(error.message);
  }
}
```

## 制作メモ
- **問いの切り口**: useUnknownInCatchVariablesの有効化状況
- **想定視聴者層**: 型安全なエラーハンドリングを実践したいエンジニア
- **押さえる技術キーワード**: useUnknownInCatchVariables, catch, unknown, 型ガード
- **キャラの立場**: 四国めたん=strictモード解説 / ずんだもん=安全性向上の実感
- **コメントで聞きたいこと**: オプション有効化状況やエラーハンドリングパターン
- **補足メモ**: 型ガードによる安全なエラー処理の実装例を提示
