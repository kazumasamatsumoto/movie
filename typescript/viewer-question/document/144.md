# #144 「`conditional types`の分配法則、理解してる？」制作ドキュメント

## 台本
ずんだもん「`conditional types`の分配法則、理解してる？」
四国めたん「v5.9では条件型の分配法則が重要で、ユニオン型に対する挙動を理解することが必須です」
ずんだもん「ぼくは最初、ユニオン型が自動的に分配されることを知らなくて、予期しない型になって困ったんだよね」
四国めたん「条件型では、`T extends U`の`T`がユニオン型の場合、各メンバーに対して分配されます」
ずんだもん「型ユーティリティを作ってる時に分配法則を理解したら、複雑な型変換が簡単に書けるようになったんだよ！」
四国めたん「みなさんは条件型の分配法則を理解していますか？」
ずんだもん「理解のコツや学習経験をコメントで教えてね！」

## 画面表示用コード

```typescript
// 分配される例
type ToArray<T> = T extends any ? T[] : never;

type Result = ToArray<string | number>;
// string[] | number[] （分配される）

// 各ユニオンメンバーに対して適用される:
// ToArray<string> | ToArray<number>
// string[] | number[]
```

```typescript
// 分配を防ぐ方法（タプルでラップ）
type ToArrayNonDistributive<T> = [T] extends [any] ? T[] : never;

type Result2 = ToArrayNonDistributive<string | number>;
// (string | number)[] （分配されない）
```

```typescript
// 実用例: ユニオンから特定の型を除外
type ExtractStrings<T> = T extends string ? T : never;

type OnlyStrings = ExtractStrings<string | number | boolean>;
// string
```

## 制作メモ
- **問いの切り口**: 条件型の分配法則の理解度
- **想定視聴者層**: 高度な型操作を学びたいエンジニア
- **押さえる技術キーワード**: 条件型, 分配法則, ユニオン型, distributive
- **キャラの立場**: 四国めたん=法則の説明 / ずんだもん=学習の難しさと理解後の効果
- **コメントで聞きたいこと**: 理解度や学習のコツ
- **補足メモ**: 分配される場合とされない場合の明確な対比
