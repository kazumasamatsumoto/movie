# #040 「`Axios`のレスポンス型を手書きしたくない夜」制作ドキュメント

## 台本
ずんだもん「TypeScript書いてるとさ、`Axios`のレスポンス型を手書きしたくない夜って絶対あるよね？」
四国めたん「わかります。APIレスポンス型を手書きするのツライですよね」
ずんだもん「しかもそのまま`Axios`のレスポンス型を手書きしたくない夜状態になって、チーム全員が固まるんだよ！」
四国めたん「そこでTypeScriptのAPIレスポンス型の整備を使えば、ジェネリクスとスキーマ生成で自動化できます」
ずんだもん「いや待って、それやると`Axios`のレスポンス型を手書きしたくない夜第2ラウンドが始まるやつ！」
四国めたん「共感した方は“API型管理”ってコメントで教えてください！」
ずんだもん「あなたのTypeScriptあるあるも募集中だよ！」

## 画面表示用コード

```typescript
import axios from "axios";

type ApiResponse<T> = Promise<{ data: T }>;

function getUser(): ApiResponse<{ id: string }> {
  return axios.get("/user");
}

type ExtractData<T> = T extends Promise<{ data: infer D }> ? D : never;

type User = ExtractData<ReturnType<typeof getUser>>;

async function main() {
  const res = await getUser();
  console.log(res.data.id);
}

main();
```

## 制作メモ
- **想定シーン**: `Axios`のレスポンス型を手書きしたくない夜に遭遇した瞬間を切り取るネタ
- **狙いトーン**: バックエンド連携の愚痴を楽しく
- **技術キーワード**: Axios, Fetch, API型
- **使いたい一言**: 「API型管理」
- **CTA案**: コメントで「API型管理」と書いてもらい、同じ経験を募る
- **備考**: HTTPクライアントの型付けに触れて共感を誘います。
