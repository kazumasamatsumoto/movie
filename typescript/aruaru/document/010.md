# #010 「`readonly`を付け忘れて誰かが平然と破壊するやつ」制作ドキュメント

## 台本
ずんだもん「`readonly`を付け忘れて誰かが平然と破壊するやつって絶対あるよね？」
四国めたん「わかります。配列に`push`してる犯人をgit blameで追う時間、もったいないですよね」
ずんだもん「しかも“仕様上は変更不可です”って言った瞬間に誰かが`splice`してくるんだよ！」
四国めたん「それならTypeScriptの`Readonly`や`ReadonlyArray`で守って、必要な箇所だけ`Mutable`に戻せます」
ずんだもん「いや待って、守ったら守ったで“ここだけ書き換えさせて”ってお願いが飛んでくるやつ！」
四国めたん「共感した方は“readonly封印”ってコメントで教えてください！」
ずんだもん「あなたのTypeScriptあるあるも募集中だよ！」

## 画面表示用コード

```typescript
type User = { id: string; tags: string[] };

const frozen: Readonly<User> = { id: "1", tags: ["ts"] };
// frozen.tags.push("js"); // ❌ ミューテート禁止

type Mutable<T> = {
  -readonly [K in keyof T]: T[K];
};

const editable: Mutable<typeof frozen> = { ...frozen };
editable.tags.push("js");

const tags: ReadonlyArray<string> = ["ts", "js"];
const copied = [...tags];
copied.push("rust");
```

## 制作メモ
- **想定シーン**: `readonly`を付け忘れたデータ構造をチームメイトが平然と書き換えてしまう瞬間
- **狙いトーン**: 犯人探しの悲哀をコミカルに描く
- **技術キーワード**: `Readonly`, `ReadonlyArray`, `Mutable`, ミューテーション制御
- **使いたい一言**: 「readonly封印」
- **CTA案**: コメントで“readonly守りきれなかった話”を聞かせてもらう
- **備考**: 画面ではイミュータブル→可変化→コピーの流れを示し、対応策まで網羅して安心感を残す
