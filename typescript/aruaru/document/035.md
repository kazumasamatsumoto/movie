# #035 「`decorator`書いたらビルド設定でつまづく午前」制作ドキュメント

## 台本
ずんだもん「TypeScript書いてるとさ、`decorator`書いたらビルド設定でつまづく午前って絶対あるよね？」
四国めたん「わかります。デコレータONにした瞬間ビルドが怒りますよね」
ずんだもん「しかもそのまま`decorator`書いたらビルド設定でつまづく午前状態になって、チーム全員が固まるんだよ！」
四国めたん「そこでTypeScriptのデコレータ設定を使えば、`experimentalDecorators`と`emitDecoratorMetadata`を揃えましょう」
ずんだもん「いや待って、それやると`decorator`書いたらビルド設定でつまづく午前第2ラウンドが始まるやつ！」
四国めたん「共感した方は“デコレータ派”ってコメントで教えてください！」
ずんだもん「あなたのTypeScriptあるあるも募集中だよ！」

## 画面表示用コード

```typescript
// tsconfig.json
{
  "compilerOptions": {
    "experimentalDecorators": true,
    "emitDecoratorMetadata": true
  }
}

function Log(): MethodDecorator {
  return (_target, _key, descriptor) => {
    const fn = descriptor.value as Function;
    descriptor.value = function (...args: unknown[]) {
      console.log("call", args);
      return fn.apply(this, args);
    };
  };
}

class Service {
  @Log()
  run() {
    return "ok";
  }
}

new Service().run();
```

## 制作メモ
- **想定シーン**: `decorator`書いたらビルド設定でつまづく午前に遭遇した瞬間を切り取るネタ
- **狙いトーン**: 設定と実装の二刀流あるある
- **技術キーワード**: decorators, emitDecoratorMetadata, tsconfig
- **使いたい一言**: 「デコレータ派」
- **CTA案**: コメントで「デコレータ派」と書いてもらい、同じ経験を募る
- **備考**: 設定と実装の両面をさらっと紹介すると親切です。
