# #096 「`NonNullable<T>`を忘れてnullが侵入」制作ドキュメント

## 台本
ずんだもん「TypeScript書いてるとさ、`NonNullable<T>`を忘れてnullが侵入って絶対あるよね？」
四国めたん「わかります。`unknown`を`any`に戻したくなる誘惑と戦い続けますよね」
ずんだもん「しかもそのまま`NonNullable<T>`を忘れてnullが侵入状態になって、チーム全員が固まるんだよ！」
四国めたん「そこでTypeScriptの`unknown`ガードを使えば、型ガードで`unknown`を段階的に狭めれば安心です」
ずんだもん「いや待って、それやると`NonNullable<T>`を忘れてnullが侵入第2ラウンドが始まるやつ！」
四国めたん「共感した方は“unknown攻略”ってコメントで教えてください！」
ずんだもん「あなたのTypeScriptあるあるも募集中だよ！」

## 画面表示用コード

```typescript
function isUser(value: unknown): value is { id: string } {
  return typeof value === "object" && value !== null && "id" in value;
}

const maybeUser: unknown = JSON.parse('{"id":"1"}');

if (isUser(maybeUser)) {
  console.log(maybeUser.id);
} else {
  console.warn("not user");
}

const safeUser = maybeUser as unknown;
// safeUser.id; // まだunknownのまま
```

## 制作メモ
- **想定シーン**: `NonNullable<T>`を忘れてnullが侵入に遭遇した瞬間を切り取るネタ
- **狙いトーン**: 慎重派と雑派のギャップで笑う
- **技術キーワード**: `unknown`, 型ガード, `in`演算子
- **使いたい一言**: 「unknown攻略」
- **CTA案**: コメントで「unknown攻略」と書いてもらい、同じ経験を募る
- **備考**: ユーザー入力や外部API検証を想定すると共感度が高いです。
