# #043 「`Error`型をどう表現するかで会議が伸びる」制作ドキュメント

## 台本
ずんだもん「TypeScript書いてるとさ、`Error`型をどう表現するかで会議が伸びるって絶対あるよね？」
四国めたん「わかります。Error型をどう表現するか議論が終わりませんよね」
ずんだもん「しかもそのまま`Error`型をどう表現するかで会議が伸びる状態になって、チーム全員が固まるんだよ！」
四国めたん「そこでTypeScriptのエラー型設計を使えば、独自エラー型をユニオンで整理すると読みやすくなります」
ずんだもん「いや待って、それやると`Error`型をどう表現するかで会議が伸びる第2ラウンドが始まるやつ！」
四国めたん「共感した方は“エラー設計”ってコメントで教えてください！」
ずんだもん「あなたのTypeScriptあるあるも募集中だよ！」

## 画面表示用コード

```typescript
type AppError =
  | { type: "Network"; message: string }
  | { type: "Validation"; field: string };

function handleError(error: AppError) {
  switch (error.type) {
    case "Network":
      return `retry: ${error.message}`;
    case "Validation":
      return `fix field: ${error.field}`;
  }
}

function toError(e: unknown): AppError {
  if (e instanceof Error) {
    return { type: "Network", message: e.message };
  }
  return { type: "Validation", field: "unknown" };
}
```

## 制作メモ
- **想定シーン**: `Error`型をどう表現するかで会議が伸びるに遭遇した瞬間を切り取るネタ
- **狙いトーン**: 失敗談を面白く語る
- **技術キーワード**: Error型, カスタムエラー, 判別ユニオン
- **使いたい一言**: 「エラー設計」
- **CTA案**: コメントで「エラー設計」と書いてもらい、同じ経験を募る
- **備考**: 失敗談を混ぜるとコメント欄が盛り上がります。
