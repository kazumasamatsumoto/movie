# #075 「`type-fest`依存しすぎて純正に戻れない」制作ドキュメント

## 台本
ずんだもん「TypeScript書いてるとさ、`type-fest`依存しすぎて純正に戻れないって絶対あるよね？」
四国めたん「わかります。型定義の配布で`types`指定を忘れて炎上したことありますよね」
ずんだもん「しかもそのまま`type-fest`依存しすぎて純正に戻れない状態になって、チーム全員が固まるんだよ！」
四国めたん「そこでTypeScriptの型配布フローを使えば、`types`とバンドラのdts出力を合わせれば安全に公開できます」
ずんだもん「いや待って、それやると`type-fest`依存しすぎて純正に戻れない第2ラウンドが始まるやつ！」
四国めたん「共感した方は“型配布完了”ってコメントで教えてください！」
ずんだもん「あなたのTypeScriptあるあるも募集中だよ！」

## 画面表示用コード

```typescript
// package.json
{
  "name": "@scope/lib",
  "version": "1.0.0",
  "types": "dist/index.d.ts"
}

// tsup.config.ts
import { defineConfig } from "tsup";

export default defineConfig({
  dts: true,
  clean: true,
});

export type Service = {
  run(): Promise<void>;
};

export const createService = (): Service => ({
  async run() {},
});
```

## 制作メモ
- **想定シーン**: `type-fest`依存しすぎて純正に戻れないに遭遇した瞬間を切り取るネタ
- **狙いトーン**: リリース直前のバタバタ感で魅せる
- **技術キーワード**: 型配布, publishConfig, dts
- **使いたい一言**: 「型配布完了」
- **CTA案**: コメントで「型配布完了」と書いてもらい、同じ経験を募る
- **備考**: npm公開や社内レジストリ共有の苦労話を絡めると◎。
