# #081 「`Indexed Access`で真夜中に型調査」制作ドキュメント

## 台本
ずんだもん「TypeScript書いてるとさ、`Indexed Access`で真夜中に型調査って絶対あるよね？」
四国めたん「わかります。ジェネリクスを重ねると誰も読めなくなるんですよね」
ずんだもん「しかもそのまま`Indexed Access`で真夜中に型調査状態になって、チーム全員が固まるんだよ！」
四国めたん「そこでTypeScriptのジェネリクス設計を使えば、`extends`やデフォルト型で読みやすさを保てます」
ずんだもん「いや待って、それやると`Indexed Access`で真夜中に型調査第2ラウンドが始まるやつ！」
四国めたん「共感した方は“ジェネリクス沼”ってコメントで教えてください！」
ずんだもん「あなたのTypeScriptあるあるも募集中だよ！」

## 画面表示用コード

```typescript
type Loader<T extends string = "json"> = {
  type: T;
  load: () => Promise<unknown>;
};

const jsonLoader: Loader = { type: "json", load: async () => ({}) };

function useLoader<T extends Loader>(loader: T) {
  return loader.load();
}

useLoader(jsonLoader);

type ExtractType<T extends Loader> = T["type"];

type LoaderType = ExtractType<typeof jsonLoader>;
```

## 制作メモ
- **想定シーン**: `Indexed Access`で真夜中に型調査に遭遇した瞬間を切り取るネタ
- **狙いトーン**: 数学っぽさを軽く茶化す
- **技術キーワード**: ジェネリクス, 制約, デフォルト型
- **使いたい一言**: 「ジェネリクス沼」
- **CTA案**: コメントで「ジェネリクス沼」と書いてもらい、同じ経験を募る
- **備考**: 型設計のバランス感覚を語ると刺さります。
