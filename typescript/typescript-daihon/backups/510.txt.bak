# #510 ã€Œå®Ÿè·µä¾‹(2)ã€

å››å›½ã‚ãŸã‚“ã€ŒNest.jsã§ã®ç¶²ç¾…æ€§ãƒã‚§ãƒƒã‚¯å®Ÿè·µä¾‹ã«ã¤ã„ã¦å­¦ã³ã¾ã—ã‚‡ã†ï¼ã€
ãšã‚“ã ã‚‚ã‚“ã€ŒNest.jsã§ã©ã†æ´»ç”¨ã™ã‚‹ã®ï¼Ÿã€
å››å›½ã‚ãŸã‚“ã€ŒDTOã‚„ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã§ã€ã™ã¹ã¦ã®ã‚±ãƒ¼ã‚¹ã‚’å‹å®‰å…¨ã«å‡¦ç†ã§ãã¾ã™ã€
ãšã‚“ã ã‚‚ã‚“ã€Œå…·ä½“çš„ãªå®Ÿè£…ã‚’è¦‹ã›ã¦ï¼ã€
å››å›½ã‚ãŸã‚“ã€Œã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§ã€å…¨ã‚¤ãƒ™ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã‚’ç¶²ç¾…çš„ã«ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã™ã‚‹ä¾‹ã§ã™ã€
ãšã‚“ã ã‚‚ã‚“ã€Œãªã‚‹ã»ã©ï¼æ–°ã—ã„ã‚¤ãƒ™ãƒ³ãƒˆè¿½åŠ æ™‚ã‚‚å®‰å…¨ã ã­ï¼ã€
å››å›½ã‚ãŸã‚“ã€Œãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹é–“ã®é€šä¿¡ã§ã‚‚å‹å®‰å…¨æ€§ãŒä¿è¨¼ã•ã‚Œã¾ã™ã­ã€
ãšã‚“ã ã‚‚ã‚“ã€Œã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºé–‹ç™ºã«æœ€é©ã ã‚ˆï¼ã€

---

## ğŸ“º ç”»é¢è¡¨ç¤ºç”¨ã‚³ãƒ¼ãƒ‰

```typescript
type DomainEvent =
  | { type: 'UserCreated'; userId: string }
  | { type: 'UserUpdated'; userId: string; data: any }
  | { type: 'UserDeleted'; userId: string };
```

```typescript
class EventHandler {
  handle(event: DomainEvent): void {
    if (event.type === 'UserCreated') this.onCreate(event);
    else if (event.type === 'UserUpdated') this.onUpdate(event);
    else if (event.type === 'UserDeleted') this.onDelete(event);
    else this.exhaustiveCheck(event);
  }

  exhaustiveCheck(value: never): never {
    throw new Error(`Unhandled: ${value}`);
  }
}
```

```typescript
// Angular HTTPãƒ¬ã‚¹ãƒãƒ³ã‚¹å‡¦ç†
type ApiResponse<T> =
  | { status: 'success'; data: T }
  | { status: 'error'; error: string };

function process<T>(res: ApiResponse<T>) {
  if (res.status === 'success') return res.data;
  if (res.status === 'error') throw new Error(res.error);
  const check: never = res;
}
```
