四国めたん「型の絞り込みでUnionを安全に扱おう。」
ずんだもん「Responseのhandle()はstatusで200/404/500を全部さばいてたね。」
四国めたん「最後にconst check: never = res; と書けば完全に絞った証明になる。」
ずんだもん「process()はtypeofでstring/number/booleanごとに返り値を変えてたのだ。」
四国めたん「順番に条件を書くと残りの型が自動的に決まるのが嬉しい。」
ずんだもん「さらにin演算子を使えばオブジェクトのUnionも段階的に扱えるよ。」
四国めたん「narrowLog()ではキーの存在でdata型かerror型かを切り分けていた。」
ずんだもん「丁寧な絞り込みが網羅性チェックにも効いてくるね。」
