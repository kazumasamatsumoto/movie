四国めたん「今日は型ガードでUnionを絞り込むよ。」
ずんだもん「Shapeのarea()はkindを見て面積を計算してたね。」
四国めたん「circle/square/rectangleを全部書いてconst check: never = shapeで締めるの。」
ずんだもん「カスタム型ガードisCircle()を作ると読みやすさが上がるのだ。」
四国めたん「process()でisCircle(shape)ならradiusに型が絞られてたよ。」
ずんだもん「残りの型は別の処理に回せるから保守しやすい。」
四国めたん「型ガードを揃えておくと網羅性チェックも楽になる。」
ずんだもん「Unionが増えても安心感が段違いだね。」
