# #100 「Smi（Small Integer）最適化」台本

四国めたん「Smiは小さな整数をタグ付きポインタで表す最適化です」
ずんだもん「値を直接ポインタに埋め込んでヒープ確保を避けるんだよね？」
四国めたん「はい。32bitなら31bit、64bitなら32bitの範囲がSmiになります」
ずんだもん「オーバーフローするとHeap Numberにフォールバックするのか」
四国めたん「Smiを維持するとGCやボックス化コストが抑えられます」
ずんだもん「整数演算はSmiの範囲内に収めて高速化しよう！」
