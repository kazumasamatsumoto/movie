# #011 「Libuvのスレッドプール」

```bash
UV_THREADPOOL_SIZE=8 node worker-demo.mjs
```

```javascript
// worker-demo.mjs
import { pbkdf2 } from 'node:crypto';
const tasks = Array.from({ length: 8 }, (_, i) => `task-${i}`);
tasks.forEach(label => {
  pbkdf2('secret', 'salt', 1e5, 64, 'sha512', () => {
    console.log(`${label} done on thread pool`);
  });
});
```

```javascript
// pool-size.js
import { env } from 'node:process';
console.log(`thread pool size: ${env.UV_THREADPOOL_SIZE ?? 4}`);
```
