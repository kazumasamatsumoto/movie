# #002 「Node.jsのシングルスレッドアーキテクチャ」

```javascript
// event-loop-order.js
console.log('start');
setTimeout(() => console.log('timer'), 0);
Promise.resolve().then(() => console.log('microtask'));
console.log('end');
```

```javascript
// blocking-task.js
const end = Date.now() + 200;
while (Date.now() < end) {} // CPUバウンドでイベントループをブロック
console.log('loop resumed');
```

```javascript
// offload-worker.js
import { Worker } from 'node:worker_threads';
const worker = new Worker('./heavy.js');
worker.once('message', (result) => console.log(`Result: ${result}`));
```
