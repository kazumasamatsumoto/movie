# #009 「世代別ガベージコレクション」

```javascript
// short-lived.js
for (let i = 0; i < 1e4; i++) {
  const temp = { index: i };
  void temp;
}
console.log('Nursery allocations done');
```

```javascript
// promoted.js
const survivors = [];
for (let i = 0; i < 1e4; i++) {
  survivors.push({ stamp: Date.now() });
}
console.log(`Objects retained: ${survivors.length}`);
```

```bash
# trace-generational.sh
node --trace-gc --trace-gc-verbose short-lived.js
node --trace-gc --trace-gc-verbose promoted.js
```
