# #006 「スタックオーバーフローが起きる理由」台本

四国めたん「スタックオーバーフローはコールスタックが限界を超えたときに発生します」
ずんだもん「再帰が深すぎるとRangeErrorになるやつだね」
四国めたん「はい、各フレームがスタックに積まれ続けると領域が足りなくなります」
ずんだもん「同期で回し続けるとイベントループにも帰れないしね」
四国めたん「末尾再帰最適化はV8ではまだ限定的なのでループへ書き換えるのが安全です」
ずんだもん「生成タスクはキューに分割して呼び出すのも手だよ」
四国めたん「setImmediateやqueueMicrotaskで分割するとスタックを解放しながら進められます」
ずんだもん「スタックの限界を意識して設計するのがプロの流儀だね！」
