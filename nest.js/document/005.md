# #005 「v11新機能概要 - 起動高速化」

四国めたん「NestJS v11は起動高速化が目玉です」
ずんだもん「コールドスタートが短くなるとデプロイが楽になるよね」
四国めたん「メタデータスキャナーのキャッシュと依存グラフのスナップショットが最適化されました」
ずんだもん「DIコンテナが素早く立ち上がるってことだよ」
四国めたん「CLIもSWCベースのビルダーが標準になりビルド時間が短縮されています」
ずんだもん「ローカルでの再起動もキビキビ動くんだね」
四国めたん「計測ログを仕込んで改善幅を可視化しておきましょう」
ずんだもん「数字で確認できればチームにも共有しやすいよ！」

---

## 📺 画面表示用コード

```typescript
// main.ts
import { NestFactory } from '@nestjs/core';
import { Logger } from '@nestjs/common';
import { performance } from 'node:perf_hooks';
import { AppModule } from './app.module';

async function bootstrap() {
  const start = performance.now();
  const app = await NestFactory.create(AppModule);
  await app.init();
  Logger.log(`Bootstrap took ${Math.round(performance.now() - start)}ms`, 'Startup');
  await app.listen(3000);
}
bootstrap();

// nest-cli.json（抜粋）
export const cliConfig = {
  compilerOptions: {
    builder: 'swc',
    deleteOutDir: true,
    tsConfigPath: 'tsconfig.build.json',
  },
};

// bootstrap-profiler.service.ts
import { Injectable, Logger, OnApplicationBootstrap } from '@nestjs/common';

@Injectable()
export class BootstrapProfiler implements OnApplicationBootstrap {
  private readonly logger = new Logger(BootstrapProfiler.name);

  onApplicationBootstrap() {
    this.logger.log('Application context ready, post-bootstrap tasks executed');
  }
}
```
