# #045 「nest generate interceptor - インターセプター生成」

四国めたん「nest generate interceptorでリクエスト処理を横断的に拡張できます」
ずんだもん「どんなテンプレートが作られるの？」
四国めたん「callハンドラーをラップするinterceptメソッド付きクラスが生成されます」
ずんだもん「レスポンス加工やログ出力に使えるんだね」
四国めたん「CLIで命名規則を揃えればアスペクト指向の実装も管理しやすいです」
ずんだもん「インターセプターを活用して品質を上げていくよ！」

---

## 📺 画面表示用コード

```typescript
// generate-interceptor.ts
export const generateInterceptor = 'nest g interceptor logging/logging';

// logging.interceptor.ts
import { CallHandler, ExecutionContext, Injectable, NestInterceptor } from '@nestjs/common';
import { Observable, tap } from 'rxjs';

@Injectable()
export class LoggingInterceptor implements NestInterceptor {
  intercept(context: ExecutionContext, next: CallHandler): Observable<unknown> {
    const now = Date.now();
    return next.handle().pipe(tap(() => console.log('Elapsed', Date.now() - now)));
  }
}

// interceptor-usage.ts
export const interceptorUsage = '@UseInterceptors(LoggingInterceptor) handler() { /* ... */ }';
```
