# #036 「生成されるファイル構造解説 - src/main.ts」

四国めたん「生成直後のmain.tsはエントリポイントです」
ずんだもん「どんな処理が書かれているの？」
四国めたん「NestFactoryでアプリを作成しlistenでポートを開きます」
ずんだもん「ここでミドルウェアやグローバル設定を仕込めるね」
四国めたん「バリデーションパイプやCORS設定もmain.tsで行うのが定石です」
ずんだもん「スタートアップロジックを理解しておけば拡張しやすいよ！」

---

## 📺 画面表示用コード

```typescript
// main.ts
import { NestFactory } from '@nestjs/core';
import { ValidationPipe } from '@nestjs/common';
import { AppModule } from './app.module';

async function bootstrap() {
  const app = await NestFactory.create(AppModule);
  app.useGlobalPipes(new ValidationPipe({ whitelist: true, forbidNonWhitelisted: true }));
  app.enableCors();
  await app.listen(process.env.PORT ?? 3000);
}
bootstrap();

// bootstrap-options.ts
export const defaultPort = 3000;

// server-url.ts
export const serverUrl = 'http://localhost:3000';
```
