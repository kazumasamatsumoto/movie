# #016 ã€Œé–‹ç™ºç’°å¢ƒè¦ä»¶ - Node.jsã€npm/yarnã€

å››å›½ã‚ãŸã‚“ã€ŒNestJS v11ã‚’å‹•ã‹ã™é–‹ç™ºç’°å¢ƒè¦ä»¶ã‚’æŠ¼ã•ãˆã¾ã—ã‚‡ã†ã€
ãšã‚“ã ã‚‚ã‚“ã€ŒNode.jsã‚„npmã¯ã©ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå¿…è¦ã‹ãªï¼Ÿã€
å››å›½ã‚ãŸã‚“ã€ŒNode.js 18 LTSä»¥ä¸Šã¨npm 9ç³»ã€ã‚ã‚‹ã„ã¯yarn 3ç³»ãŒæ¨å¥¨ã§ã™ã€
ãšã‚“ã ã‚‚ã‚“ã€Œcorepackã‚’ä½¿ãˆã°ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‚’çµ±ä¸€ã§ãã‚‹ã­ã€
å››å›½ã‚ãŸã‚“ã€ŒSWCãƒ“ãƒ«ãƒ€ãƒ¼ã§ESMå¯¾å¿œã™ã‚‹è¨­å®šã‚‚å¿˜ã‚Œãªã„ã§ãã ã•ã„ã€
ãšã‚“ã ã‚‚ã‚“ã€Œtsconfigã‚„Envã®æ•´åˆæ€§ã‚’CIã§ãƒã‚§ãƒƒã‚¯ã—ãŸã„ã‚ˆã€
å››å›½ã‚ãŸã‚“ã€ŒDockerã‹Voltaã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³å›ºå®šã™ã‚‹ã®ã‚‚æœ‰åŠ¹ã§ã™ã€
ãšã‚“ã ã‚‚ã‚“ã€Œè¦ä»¶ã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–ã—ã¦ãƒãƒ¼ãƒ ã«å…±æœ‰ã—ã¦ãŠãã‚ˆï¼ã€

---

## ğŸ“º ç”»é¢è¡¨ç¤ºç”¨ã‚³ãƒ¼ãƒ‰

```typescript
// env-check.ts
const [major] = process.versions.node.split('.').map(Number);
if (major < 18) {
  throw new Error('NestJS v11 requires Node.js 18+');
}

console.log('Node.js version OK:', process.version);

// package-manager.ts
import { execSync } from 'node:child_process';

const REQUIREMENTS = {
  npm: '>=9.6.0',
  yarn: '>=3.6.0',
};

function readVersion(command: string) {
  return execSync(`${command} -v`).toString().trim();
}

console.log('npm', readVersion('npm'), 'expected', REQUIREMENTS.npm);
console.log('yarn', readVersion('yarn'), 'expected', REQUIREMENTS.yarn);

// corepack-setup.ts
import { execSync } from 'node:child_process';

execSync('corepack enable', { stdio: 'inherit' });
execSync('corepack prepare yarn@3.6.1 --activate', { stdio: 'inherit' });
console.log('Package manager pinned with Corepack');
```
