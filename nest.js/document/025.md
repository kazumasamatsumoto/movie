# #025 ã€Œã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ç†è§£ã€

å››å›½ã‚ãŸã‚“ã€ŒHTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã®å¥‘ç´„ã§ã™ã€
ãšã‚“ã ã‚‚ã‚“ã€Œ200ä»¥å¤–ã‚’ã©ã†ä½¿ã„åˆ†ã‘ã‚‹ã¨ã„ã„ã®ï¼Ÿã€
å››å›½ã‚ãŸã‚“ã€ŒæˆåŠŸã¯200ãƒ»201ãƒ»204ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚¨ãƒ©ãƒ¼ã¯4xxã§åˆ†é¡ã—ã¾ã™ã€
ãšã‚“ã ã‚‚ã‚“ã€Œãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ã¯422ã§è¿”ã—ãŸã„ã­ã€
å››å›½ã‚ãŸã‚“ã€Œã‚µãƒ¼ãƒãƒ¼å´ã®éšœå®³ã¯5xxã§é€šçŸ¥ã—ç›£è¦–ã¨é€£æºã—ã¾ã—ã‚‡ã†ã€
ãšã‚“ã ã‚‚ã‚“ã€Œ503ã¯ãƒªãƒˆãƒ©ã‚¤æˆ¦ç•¥ã¨ã‚»ãƒƒãƒˆã§è€ƒãˆã‚‹ã‚ˆã€
å››å›½ã‚ãŸã‚“ã€ŒNestJSã¯HttpExceptionã§ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’æ˜ç¤ºã§ãã¾ã™ã€
ãšã‚“ã ã‚‚ã‚“ã€Œæ­£ã—ã„ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒæƒã†ã¨APIã®ä¿¡é ¼æ€§ãŒä¸ŠãŒã‚‹ã‚ˆï¼ã€

---

## ğŸ“º ç”»é¢è¡¨ç¤ºç”¨ã‚³ãƒ¼ãƒ‰

```typescript
// users.controller.ts
import { Controller, Get, HttpCode, Param, Post } from '@nestjs/common';
import { HttpStatus } from '@nestjs/common';

@Controller('users')
export class UsersController {
  @Post()
  @HttpCode(HttpStatus.CREATED)
  create() {
    return { status: 'created' };
  }

  @Get(':id')
  @HttpCode(HttpStatus.OK)
  find(@Param('id') id: string) {
    return { id };
  }
}

// validation-exception.filter.ts
import { ArgumentsHost, Catch, ExceptionFilter, HttpException, HttpStatus } from '@nestjs/common';
import { ValidationError } from 'class-validator';

@Catch(ValidationError)
export class ValidationExceptionFilter implements ExceptionFilter {
  catch(exception: ValidationError, host: ArgumentsHost) {
    const response = host.switchToHttp().getResponse();
    response.status(HttpStatus.UNPROCESSABLE_ENTITY).json({
      message: 'Validation failed',
      details: exception.toString(),
    });
  }
}

// service-error.ts
import { HttpException, HttpStatus } from '@nestjs/common';

export class ServiceUnavailableError extends HttpException {
  constructor(cause?: Error) {
    super('Service temporarily unavailable', HttpStatus.SERVICE_UNAVAILABLE, {
      cause,
    });
  }
}
```
