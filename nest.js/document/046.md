# #046 「nest generate pipe - パイプ生成」

四国めたん「nest generate pipeで入力変換や検証を担うパイプを作れます」
ずんだもん「テンプレートはどうなっているの？」
四国めたん「transformメソッドを持つクラスとテストが生成されます」
ずんだもん「DTO前に前処理したいときに便利だね」
四国めたん「CLIから生成するとDIや型も整った状態で使い始められます」
ずんだもん「パイプで入力品質を高めていこう！」

---

## 📺 画面表示用コード

```typescript
// generate-pipe.ts
export const generatePipe = 'nest g pipe validation/parse-int';

// parse-int.pipe.ts
import { ArgumentMetadata, BadRequestException, Injectable, PipeTransform } from '@nestjs/common';

@Injectable()
export class ParseIntPipe implements PipeTransform<string, number> {
  transform(value: string, _metadata: ArgumentMetadata): number {
    const parsed = Number.parseInt(value, 10);
    if (Number.isNaN(parsed)) {
      throw new BadRequestException('Validation failed');
    }
    return parsed;
  }
}

// pipe-usage.ts
export const pipeUsageExample = '@Param("id", ParseIntPipe) id: number';
```
