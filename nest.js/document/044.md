# #044 ã€Œnest generate guard - ã‚¬ãƒ¼ãƒ‰ç”Ÿæˆã€

å››å›½ã‚ãŸã‚“ã€Œnest generate guardã§ç‹¬è‡ªã®èªå¯ã‚¬ãƒ¼ãƒ‰ã‚’ä½œã‚Œã¾ã™ã€
ãšã‚“ã ã‚‚ã‚“ã€Œãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«ã¯ä½•ãŒå«ã¾ã‚Œã‚‹ã®ï¼Ÿã€
å››å›½ã‚ãŸã‚“ã€ŒcanActivateãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒã¤ã‚¯ãƒ©ã‚¹ã¨ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€
ãšã‚“ã ã‚‚ã‚“ã€ŒAuthorizationãƒ˜ãƒƒãƒ€ãƒ¼ã®æ¤œè¨¼ã«ä½¿ãˆãã†ã ã­ã€
å››å›½ã‚ãŸã‚“ã€Œ--implementsã§Guardä»¥å¤–ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚‚æŒ‡å®šã§ãã¾ã™ã€
ãšã‚“ã ã‚‚ã‚“ã€ŒCLIã§ã‚¬ãƒ¼ãƒ‰ã‚’æƒãˆã¦ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’å¼·åŒ–ã™ã‚‹ã‚ˆï¼ã€

---

## ğŸ“º ç”»é¢è¡¨ç¤ºç”¨ã‚³ãƒ¼ãƒ‰

```typescript
// generate-guard.ts
export const generateGuard = 'nest g guard auth/auth --implements CanActivate';

// auth.guard.ts
import { CanActivate, ExecutionContext, Injectable } from '@nestjs/common';

@Injectable()
export class AuthGuard implements CanActivate {
  canActivate(context: ExecutionContext): boolean {
    const request = context.switchToHttp().getRequest<{ headers: Record<string, string> }>();
    return Boolean(request.headers['authorization']);
  }
}

// guard-test.ts
export const guardTestFile = 'src/auth/auth.guard.spec.ts';
```
