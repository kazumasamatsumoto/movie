# #018 「TypeScript基礎復習 - クラスとデコレーター」

四国めたん「NestJSを理解するにはクラスとデコレーターの復習が必要です」
ずんだもん「デコレーターって実際どう動いているの？」
四国めたん「クラス定義にメタデータを付けてDIコンテナが読み取ります」
ずんだもん「@Injectableや@Controllerがその入口だね」
四国めたん「デコレーターは関数でターゲットを受け取りメタデータを登録します」
ずんだもん「reflect-metadataの仕組みも押さえておきたいよ」
四国めたん「アクセサやメソッドデコレーターも活用できます」
ずんだもん「基礎を押さえるとNestJSのコードが一気に読めるよ！」

---

## 📺 画面表示用コード

```typescript
// course.service.ts
export class CourseService {
  constructor(private readonly title: string) {}

  getTitle() {
    return this.title;
  }
}

// decorators/logged.decorator.ts
import 'reflect-metadata';

export function Logged(): ClassDecorator {
  return (target) => {
    Reflect.defineMetadata('logged', true, target);
  };
}

// usage-example.ts
import { Logged } from './decorators/logged.decorator';
import { CourseService } from './course.service';

@Logged()
class PaymentService extends CourseService {
  process() {
    console.log('Process payment');
  }
}

console.log(Reflect.getMetadata('logged', PaymentService));
```
